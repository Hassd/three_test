{"remainingRequest":"E:\\自己的项目\\three_test\\node_modules\\babel-loader\\lib\\index.js!E:\\自己的项目\\three_test\\src\\assets\\jsm\\loaders\\OBJLoader2.js","dependencies":[{"path":"E:\\自己的项目\\three_test\\src\\assets\\jsm\\loaders\\OBJLoader2.js","mtime":1581177633927},{"path":"E:\\自己的项目\\three_test\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\自己的项目\\three_test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwiOwoKLyoqCiAqIEBhdXRob3IgS2FpIFNhbG1lbiAvIGh0dHBzOi8va2Fpc2FsbWVuLmRlCiAqIERldmVsb3BtZW50IHJlcG9zaXRvcnk6IGh0dHBzOi8vZ2l0aHViLmNvbS9rYWlzYWxtZW4vV1dPQkpMb2FkZXIKICovCmltcG9ydCB7IEZpbGVMb2FkZXIsIE9iamVjdDNELCBMb2FkZXIgfSBmcm9tICIuLi8uLi9qcy90aHJlZS5tb2R1bGUuanMiOwppbXBvcnQgeyBPQkpMb2FkZXIyUGFyc2VyIH0gZnJvbSAiLi9vYmoyL3dvcmtlci9wYXJhbGxlbC9PQkpMb2FkZXIyUGFyc2VyLmpzIjsKaW1wb3J0IHsgTWVzaFJlY2VpdmVyIH0gZnJvbSAiLi9vYmoyL3NoYXJlZC9NZXNoUmVjZWl2ZXIuanMiOwppbXBvcnQgeyBNYXRlcmlhbEhhbmRsZXIgfSBmcm9tICIuL29iajIvc2hhcmVkL01hdGVyaWFsSGFuZGxlci5qcyI7Ci8qKgogKiBDcmVhdGVzIGEgbmV3IE9CSkxvYWRlcjIuIFVzZSBpdCB0byBsb2FkIE9CSiBkYXRhIGZyb20gZmlsZXMgb3IgdG8gcGFyc2UgT0JKIGRhdGEgZnJvbSBhcnJheWJ1ZmZlciBvciB0ZXh0LgogKgogKiBAcGFyYW0ge0xvYWRpbmdNYW5hZ2VyfSBbbWFuYWdlcl0gVGhlIGxvYWRpbmdNYW5hZ2VyIGZvciB0aGUgbG9hZGVyIHRvIHVzZS4gRGVmYXVsdCBpcyB7QGxpbmsgTG9hZGluZ01hbmFnZXJ9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCnZhciBPQkpMb2FkZXIyID0gZnVuY3Rpb24gT0JKTG9hZGVyMihtYW5hZ2VyKSB7CiAgTG9hZGVyLmNhbGwodGhpcywgbWFuYWdlcik7CiAgdGhpcy5wYXJzZXIgPSBuZXcgT0JKTG9hZGVyMlBhcnNlcigpOwogIHRoaXMubW9kZWxOYW1lID0gJyc7CiAgdGhpcy5pbnN0YW5jZU5vID0gMDsKICB0aGlzLmJhc2VPYmplY3QzZCA9IG5ldyBPYmplY3QzRCgpOwogIHRoaXMubWF0ZXJpYWxIYW5kbGVyID0gbmV3IE1hdGVyaWFsSGFuZGxlcigpOwogIHRoaXMubWVzaFJlY2VpdmVyID0gbmV3IE1lc2hSZWNlaXZlcih0aGlzLm1hdGVyaWFsSGFuZGxlcik7IC8vIGFzIE9CSkxvYWRlcjIgaXMgbm8gbG9uZ2VyIGRlcml2ZWQgZnJvbSBPQkpMb2FkZXIyUGFyc2VyLCB3ZSBuZWVkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG9uQXNzZXRBdmFpbGFibGUgY2FsbGJhY2sKCiAgdmFyIHNjb3BlID0gdGhpczsKCiAgdmFyIGRlZmF1bHRPbkFzc2V0QXZhaWxhYmxlID0gZnVuY3Rpb24gZGVmYXVsdE9uQXNzZXRBdmFpbGFibGUocGF5bG9hZCkgewogICAgc2NvcGUuX29uQXNzZXRBdmFpbGFibGUocGF5bG9hZCk7CiAgfTsKCiAgdGhpcy5wYXJzZXIuc2V0Q2FsbGJhY2tPbkFzc2V0QXZhaWxhYmxlKGRlZmF1bHRPbkFzc2V0QXZhaWxhYmxlKTsKfTsKCk9CSkxvYWRlcjIuT0JKTE9BREVSMl9WRVJTSU9OID0gJzMuMS4xJzsKY29uc29sZS5pbmZvKCdVc2luZyBPQkpMb2FkZXIyIHZlcnNpb246ICcgKyBPQkpMb2FkZXIyLk9CSkxPQURFUjJfVkVSU0lPTik7Ck9CSkxvYWRlcjIucHJvdG90eXBlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExvYWRlci5wcm90b3R5cGUpLCB7CiAgY29uc3RydWN0b3I6IE9CSkxvYWRlcjIsCgogIC8qKgogICAqIFNlZSB7QGxpbmsgT0JKTG9hZGVyMlBhcnNlci5zZXRMb2dnaW5nfQogICAqIEByZXR1cm4ge09CSkxvYWRlcjJ9CiAgICovCiAgc2V0TG9nZ2luZzogZnVuY3Rpb24gc2V0TG9nZ2luZyhlbmFibGVkLCBkZWJ1ZykgewogICAgdGhpcy5wYXJzZXIuc2V0TG9nZ2luZyhlbmFibGVkLCBkZWJ1Zyk7CiAgICByZXR1cm4gdGhpczsKICB9LAoKICAvKioKICAgKiBTZWUge0BsaW5rIE9CSkxvYWRlcjJQYXJzZXIuc2V0TWF0ZXJpYWxQZXJTbW9vdGhpbmdHcm91cH0KICAgKiBAcmV0dXJuIHtPQkpMb2FkZXIyfQogICAqLwogIHNldE1hdGVyaWFsUGVyU21vb3RoaW5nR3JvdXA6IGZ1bmN0aW9uIHNldE1hdGVyaWFsUGVyU21vb3RoaW5nR3JvdXAobWF0ZXJpYWxQZXJTbW9vdGhpbmdHcm91cCkgewogICAgdGhpcy5wYXJzZXIuc2V0TWF0ZXJpYWxQZXJTbW9vdGhpbmdHcm91cChtYXRlcmlhbFBlclNtb290aGluZ0dyb3VwKTsKICAgIHJldHVybiB0aGlzOwogIH0sCgogIC8qKgogICAqIFNlZSB7QGxpbmsgT0JKTG9hZGVyMlBhcnNlci5zZXRVc2VPQXNNZXNofQogICAqIEByZXR1cm4ge09CSkxvYWRlcjJ9CiAgICovCiAgc2V0VXNlT0FzTWVzaDogZnVuY3Rpb24gc2V0VXNlT0FzTWVzaCh1c2VPQXNNZXNoKSB7CiAgICB0aGlzLnBhcnNlci5zZXRVc2VPQXNNZXNoKHVzZU9Bc01lc2gpOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKCiAgLyoqCiAgICogU2VlIHtAbGluayBPQkpMb2FkZXIyUGFyc2VyLnNldFVzZUluZGljZXN9CiAgICogQHJldHVybiB7T0JKTG9hZGVyMn0KICAgKi8KICBzZXRVc2VJbmRpY2VzOiBmdW5jdGlvbiBzZXRVc2VJbmRpY2VzKHVzZUluZGljZXMpIHsKICAgIHRoaXMucGFyc2VyLnNldFVzZUluZGljZXModXNlSW5kaWNlcyk7CiAgICByZXR1cm4gdGhpczsKICB9LAoKICAvKioKICAgKiBTZWUge0BsaW5rIE9CSkxvYWRlcjJQYXJzZXIuc2V0RGlzcmVnYXJkTm9ybWFsc30KICAgKiBAcmV0dXJuIHtPQkpMb2FkZXIyfQogICAqLwogIHNldERpc3JlZ2FyZE5vcm1hbHM6IGZ1bmN0aW9uIHNldERpc3JlZ2FyZE5vcm1hbHMoZGlzcmVnYXJkTm9ybWFscykgewogICAgdGhpcy5wYXJzZXIuc2V0RGlzcmVnYXJkTm9ybWFscyhkaXNyZWdhcmROb3JtYWxzKTsKICAgIHJldHVybiB0aGlzOwogIH0sCgogIC8qKgogICAqIFNldCB0aGUgbmFtZSBvZiB0aGUgbW9kZWwuCiAgICoKICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZWxOYW1lCiAgICogQHJldHVybiB7T0JKTG9hZGVyMn0KICAgKi8KICBzZXRNb2RlbE5hbWU6IGZ1bmN0aW9uIHNldE1vZGVsTmFtZShtb2RlbE5hbWUpIHsKICAgIHRoaXMubW9kZWxOYW1lID0gbW9kZWxOYW1lID8gbW9kZWxOYW1lIDogdGhpcy5tb2RlbE5hbWU7CiAgICByZXR1cm4gdGhpczsKICB9LAoKICAvKioKICAgKiBTZXQgdGhlIG5vZGUgd2hlcmUgdGhlIGxvYWRlZCBvYmplY3RzIHdpbGwgYmUgYXR0YWNoZWQgZGlyZWN0bHkuCiAgICoKICAgKiBAcGFyYW0ge09iamVjdDNEfSBiYXNlT2JqZWN0M2QgT2JqZWN0IGFscmVhZHkgYXR0YWNoZWQgdG8gc2NlbmVncmFwaCB3aGVyZSBuZXcgbWVzaGVzIHdpbGwgYmUgYXR0YWNoZWQgdG8KICAgKiBAcmV0dXJuIHtPQkpMb2FkZXIyfQogICAqLwogIHNldEJhc2VPYmplY3QzZDogZnVuY3Rpb24gc2V0QmFzZU9iamVjdDNkKGJhc2VPYmplY3QzZCkgewogICAgdGhpcy5iYXNlT2JqZWN0M2QgPSBiYXNlT2JqZWN0M2QgPT09IHVuZGVmaW5lZCB8fCBiYXNlT2JqZWN0M2QgPT09IG51bGwgPyB0aGlzLmJhc2VPYmplY3QzZCA6IGJhc2VPYmplY3QzZDsKICAgIHJldHVybiB0aGlzOwogIH0sCgogIC8qKgogICAqIEFkZCBtYXRlcmlhbHMgYXMgYXNzb2NpYXRlZCBhcnJheS4KICAgKgogICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRlcmlhbHMgT2JqZWN0IHdpdGggbmFtZWQge0BsaW5rIE1hdGVyaWFsfQogICAqIEBwYXJhbSBvdmVycmlkZUV4aXN0aW5nIGJvb2xlYW4gT3ZlcnJpZGUgZXhpc3RpbmcgbWF0ZXJpYWwKICAgKiBAcmV0dXJuIHtPQkpMb2FkZXIyfQogICAqLwogIGFkZE1hdGVyaWFsczogZnVuY3Rpb24gYWRkTWF0ZXJpYWxzKG1hdGVyaWFscywgb3ZlcnJpZGVFeGlzdGluZykgewogICAgdGhpcy5tYXRlcmlhbEhhbmRsZXIuYWRkTWF0ZXJpYWxzKG1hdGVyaWFscywgb3ZlcnJpZGVFeGlzdGluZyk7CiAgICByZXR1cm4gdGhpczsKICB9LAoKICAvKioKICAgKiBTZWUge0BsaW5rIE9CSkxvYWRlcjJQYXJzZXIuc2V0Q2FsbGJhY2tPbkFzc2V0QXZhaWxhYmxlfQogICAqIEByZXR1cm4ge09CSkxvYWRlcjJ9CiAgICovCiAgc2V0Q2FsbGJhY2tPbkFzc2V0QXZhaWxhYmxlOiBmdW5jdGlvbiBzZXRDYWxsYmFja09uQXNzZXRBdmFpbGFibGUob25Bc3NldEF2YWlsYWJsZSkgewogICAgdGhpcy5wYXJzZXIuc2V0Q2FsbGJhY2tPbkFzc2V0QXZhaWxhYmxlKG9uQXNzZXRBdmFpbGFibGUpOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKCiAgLyoqCiAgICogU2VlIHtAbGluayBPQkpMb2FkZXIyUGFyc2VyLnNldENhbGxiYWNrT25Qcm9ncmVzc30KICAgKiBAcmV0dXJuIHtPQkpMb2FkZXIyfQogICAqLwogIHNldENhbGxiYWNrT25Qcm9ncmVzczogZnVuY3Rpb24gc2V0Q2FsbGJhY2tPblByb2dyZXNzKG9uUHJvZ3Jlc3MpIHsKICAgIHRoaXMucGFyc2VyLnNldENhbGxiYWNrT25Qcm9ncmVzcyhvblByb2dyZXNzKTsKICAgIHJldHVybiB0aGlzOwogIH0sCgogIC8qKgogICAqIFNlZSB7QGxpbmsgT0JKTG9hZGVyMlBhcnNlci5zZXRDYWxsYmFja09uRXJyb3J9CiAgICogQHJldHVybiB7T0JKTG9hZGVyMn0KICAgKi8KICBzZXRDYWxsYmFja09uRXJyb3I6IGZ1bmN0aW9uIHNldENhbGxiYWNrT25FcnJvcihvbkVycm9yKSB7CiAgICB0aGlzLnBhcnNlci5zZXRDYWxsYmFja09uRXJyb3Iob25FcnJvcik7CiAgICByZXR1cm4gdGhpczsKICB9LAoKICAvKioKICAgKiBTZWUge0BsaW5rIE9CSkxvYWRlcjJQYXJzZXIuc2V0Q2FsbGJhY2tPbkxvYWR9CiAgICogQHJldHVybiB7T0JKTG9hZGVyMn0KICAgKi8KICBzZXRDYWxsYmFja09uTG9hZDogZnVuY3Rpb24gc2V0Q2FsbGJhY2tPbkxvYWQob25Mb2FkKSB7CiAgICB0aGlzLnBhcnNlci5zZXRDYWxsYmFja09uTG9hZChvbkxvYWQpOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKCiAgLyoqCiAgICogUmVnaXN0ZXIgYSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCBvbmNlIGEgc2luZ2xlIG1lc2ggaXMgYXZhaWxhYmxlIGFuZCBpdCBjb3VsZCBiZSBhbHRlcmVkIGJ5IHRoZSBzdXBwbGllZCBmdW5jdGlvbi4KICAgKgogICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvbk1lc2hBbHRlcl0KICAgKiBAcmV0dXJuIHtPQkpMb2FkZXIyfQogICAqLwogIHNldENhbGxiYWNrT25NZXNoQWx0ZXI6IGZ1bmN0aW9uIHNldENhbGxiYWNrT25NZXNoQWx0ZXIob25NZXNoQWx0ZXIpIHsKICAgIHRoaXMubWVzaFJlY2VpdmVyLl9zZXRDYWxsYmFja3ModGhpcy5wYXJzZXIuY2FsbGJhY2tzLm9uUHJvZ3Jlc3MsIG9uTWVzaEFsdGVyKTsKCiAgICByZXR1cm4gdGhpczsKICB9LAoKICAvKioKICAgKiBSZWdpc3RlciBhIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIG9uY2UgYWxsIG1hdGVyaWFscyBoYXZlIGJlZW4gbG9hZGVkIGFuZCB0aGV5IGNvdWxkIGJlIGFsdGVyZWQgYnkgdGhlIHN1cHBsaWVkIGZ1bmN0aW9uLgogICAqCiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29uTG9hZE1hdGVyaWFsc10KICAgKiBAcmV0dXJuIHtPQkpMb2FkZXIyfQogICAqLwogIHNldENhbGxiYWNrT25Mb2FkTWF0ZXJpYWxzOiBmdW5jdGlvbiBzZXRDYWxsYmFja09uTG9hZE1hdGVyaWFscyhvbkxvYWRNYXRlcmlhbHMpIHsKICAgIHRoaXMubWF0ZXJpYWxIYW5kbGVyLl9zZXRDYWxsYmFja3Mob25Mb2FkTWF0ZXJpYWxzKTsKCiAgICByZXR1cm4gdGhpczsKICB9LAoKICAvKioKICAgKiBVc2UgdGhpcyBjb252ZW5pZW50IG1ldGhvZCB0byBsb2FkIGEgZmlsZSBhdCB0aGUgZ2l2ZW4gVVJMLiBCeSBkZWZhdWx0IHRoZSBmaWxlTG9hZGVyIHVzZXMgYW4gQXJyYXlCdWZmZXIuCiAgICoKICAgKiBAcGFyYW0ge3N0cmluZ30gIHVybCBBIHN0cmluZyBjb250YWluaW5nIHRoZSBwYXRoL1VSTCBvZiB0aGUgZmlsZSB0byBiZSBsb2FkZWQuCiAgICogQHBhcmFtIHtmdW5jdGlvbn0gb25Mb2FkIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGFmdGVyIGxvYWRpbmcgaXMgc3VjY2Vzc2Z1bGx5IGNvbXBsZXRlZC4gVGhlIGZ1bmN0aW9uIHJlY2VpdmVzIGxvYWRlZCBPYmplY3QzRCBhcyBhbiBhcmd1bWVudC4KICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb25GaWxlTG9hZFByb2dyZXNzXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGlsZSB0aGUgbG9hZGluZyBpcyBpbiBwcm9ncmVzcy4gVGhlIGFyZ3VtZW50IHdpbGwgYmUgdGhlIFhNTEh0dHBSZXF1ZXN0IGluc3RhbmNlLCB3aGljaCBjb250YWlucyB0b3RhbCBhbmQgSW50ZWdlciBieXRlcy4KICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb25FcnJvcl0gQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBsb2FkaW5nLiBUaGUgZnVuY3Rpb24gcmVjZWl2ZXMgdGhlIGVycm9yIGFzIGFuIGFyZ3VtZW50LgogICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvbk1lc2hBbHRlcl0gQ2FsbGVkIGFmdGVyIGV2ZXJ5IHNpbmdsZSBtZXNoIGlzIG1hZGUgYXZhaWxhYmxlIGJ5IHRoZSBwYXJzZXIKICAgKi8KICBsb2FkOiBmdW5jdGlvbiBsb2FkKHVybCwgb25Mb2FkLCBvbkZpbGVMb2FkUHJvZ3Jlc3MsIG9uRXJyb3IsIG9uTWVzaEFsdGVyKSB7CiAgICB2YXIgc2NvcGUgPSB0aGlzOwoKICAgIGlmIChvbkxvYWQgPT09IG51bGwgfHwgb25Mb2FkID09PSB1bmRlZmluZWQgfHwgIShvbkxvYWQgaW5zdGFuY2VvZiBGdW5jdGlvbikpIHsKICAgICAgdmFyIGVycm9yTWVzc2FnZSA9ICdvbkxvYWQgaXMgbm90IGEgZnVuY3Rpb24hIEFib3J0aW5nLi4uJzsKICAgICAgc2NvcGUucGFyc2VyLmNhbGxiYWNrcy5vbkVycm9yKGVycm9yTWVzc2FnZSk7CiAgICAgIHRocm93IGVycm9yTWVzc2FnZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMucGFyc2VyLnNldENhbGxiYWNrT25Mb2FkKG9uTG9hZCk7CiAgICB9CgogICAgaWYgKG9uRXJyb3IgPT09IG51bGwgfHwgb25FcnJvciA9PT0gdW5kZWZpbmVkIHx8ICEob25FcnJvciBpbnN0YW5jZW9mIEZ1bmN0aW9uKSkgewogICAgICBvbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcihldmVudCkgewogICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBldmVudDsKCiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQgJiYgZXZlbnQuY3VycmVudFRhcmdldC5zdGF0dXNUZXh0ICE9PSBudWxsKSB7CiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnRXJyb3Igb2NjdXJyZWQgd2hpbGUgZG93bmxvYWRpbmchXG51cmw6ICcgKyBldmVudC5jdXJyZW50VGFyZ2V0LnJlc3BvbnNlVVJMICsgJ1xuc3RhdHVzOiAnICsgZXZlbnQuY3VycmVudFRhcmdldC5zdGF0dXNUZXh0OwogICAgICAgIH0KCiAgICAgICAgc2NvcGUucGFyc2VyLmNhbGxiYWNrcy5vbkVycm9yKGVycm9yTWVzc2FnZSk7CiAgICAgIH07CiAgICB9CgogICAgaWYgKCF1cmwpIHsKICAgICAgb25FcnJvcignQW4gaW52YWxpZCB1cmwgd2FzIHByb3ZpZGVkLiBVbmFibGUgdG8gY29udGludWUhJyk7CiAgICB9CgogICAgdmFyIHVybEZ1bGwgPSBuZXcgVVJMKHVybCwgd2luZG93LmxvY2F0aW9uLmhyZWYpLmhyZWY7CiAgICB2YXIgZmlsZW5hbWUgPSB1cmxGdWxsOwogICAgdmFyIHVybFBhcnRzID0gdXJsRnVsbC5zcGxpdCgnLycpOwoKICAgIGlmICh1cmxQYXJ0cy5sZW5ndGggPiAyKSB7CiAgICAgIGZpbGVuYW1lID0gdXJsUGFydHNbdXJsUGFydHMubGVuZ3RoIC0gMV07CiAgICAgIHZhciB1cmxQYXJ0c1BhdGggPSB1cmxQYXJ0cy5zbGljZSgwLCB1cmxQYXJ0cy5sZW5ndGggLSAxKS5qb2luKCcvJykgKyAnLyc7CiAgICAgIGlmICh1cmxQYXJ0c1BhdGggIT09IHVuZGVmaW5lZCAmJiB1cmxQYXJ0c1BhdGggIT09IG51bGwpIHRoaXMucGF0aCA9IHVybFBhcnRzUGF0aDsKICAgIH0KCiAgICBpZiAob25GaWxlTG9hZFByb2dyZXNzID09PSBudWxsIHx8IG9uRmlsZUxvYWRQcm9ncmVzcyA9PT0gdW5kZWZpbmVkIHx8ICEob25GaWxlTG9hZFByb2dyZXNzIGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7CiAgICAgIHZhciBudW1lcmljYWxWYWx1ZVJlZiA9IDA7CiAgICAgIHZhciBudW1lcmljYWxWYWx1ZSA9IDA7CgogICAgICBvbkZpbGVMb2FkUHJvZ3Jlc3MgPSBmdW5jdGlvbiBvbkZpbGVMb2FkUHJvZ3Jlc3MoZXZlbnQpIHsKICAgICAgICBpZiAoIWV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHJldHVybjsKICAgICAgICBudW1lcmljYWxWYWx1ZSA9IGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsOwoKICAgICAgICBpZiAobnVtZXJpY2FsVmFsdWUgPiBudW1lcmljYWxWYWx1ZVJlZikgewogICAgICAgICAgbnVtZXJpY2FsVmFsdWVSZWYgPSBudW1lcmljYWxWYWx1ZTsKICAgICAgICAgIHZhciBvdXRwdXQgPSAnRG93bmxvYWQgb2YgIicgKyB1cmwgKyAnIjogJyArIChudW1lcmljYWxWYWx1ZSAqIDEwMCkudG9GaXhlZCgyKSArICclJzsKICAgICAgICAgIHNjb3BlLnBhcnNlci5jYWxsYmFja3Mub25Qcm9ncmVzcygncHJvZ3Jlc3NMb2FkJywgb3V0cHV0LCBudW1lcmljYWxWYWx1ZSk7CiAgICAgICAgfQogICAgICB9OwogICAgfQoKICAgIHRoaXMuc2V0Q2FsbGJhY2tPbk1lc2hBbHRlcihvbk1lc2hBbHRlcik7CgogICAgdmFyIGZpbGVMb2FkZXJPbkxvYWQgPSBmdW5jdGlvbiBmaWxlTG9hZGVyT25Mb2FkKGNvbnRlbnQpIHsKICAgICAgc2NvcGUucGFyc2VyLmNhbGxiYWNrcy5vbkxvYWQoc2NvcGUucGFyc2UoY29udGVudCksICJPQkpMb2FkZXIyI2xvYWQ6IFBhcnNpbmcgY29tcGxldGVkIik7CiAgICB9OwoKICAgIHZhciBmaWxlTG9hZGVyID0gbmV3IEZpbGVMb2FkZXIodGhpcy5tYW5hZ2VyKTsKICAgIGZpbGVMb2FkZXIuc2V0UGF0aCh0aGlzLnBhdGggfHwgdGhpcy5yZXNvdXJjZVBhdGgpOwogICAgZmlsZUxvYWRlci5zZXRSZXNwb25zZVR5cGUoJ2FycmF5YnVmZmVyJyk7CiAgICBmaWxlTG9hZGVyLmxvYWQoZmlsZW5hbWUsIGZpbGVMb2FkZXJPbkxvYWQsIG9uRmlsZUxvYWRQcm9ncmVzcywgb25FcnJvcik7CiAgfSwKCiAgLyoqCiAgICogUGFyc2VzIE9CSiBkYXRhIHN5bmNocm9ub3VzbHkgZnJvbSBhcnJheWJ1ZmZlciBvciBzdHJpbmcgYW5kIHJldHVybnMgdGhlIHtAbGluayBPYmplY3QzRH0uCiAgICoKICAgKiBAcGFyYW0ge2FycmF5YnVmZmVyfHN0cmluZ30gY29udGVudCBPQkogZGF0YSBhcyBVaW50OEFycmF5IG9yIFN0cmluZwogICAqIEByZXR1cm4ge09iamVjdDNEfQogICAqLwogIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShjb250ZW50KSB7CiAgICAvLyBmYXN0LWZhaWwgaW4gY2FzZSBvZiBpbGxlZ2FsIGRhdGEKICAgIGlmIChjb250ZW50ID09PSBudWxsIHx8IGNvbnRlbnQgPT09IHVuZGVmaW5lZCkgewogICAgICB0aHJvdyAnUHJvdmlkZWQgY29udGVudCBpcyBub3QgYSB2YWxpZCBBcnJheUJ1ZmZlciBvciBTdHJpbmcuIFVuYWJsZSB0byBjb250aW51ZSBwYXJzaW5nJzsKICAgIH0KCiAgICBpZiAodGhpcy5wYXJzZXIubG9nZ2luZy5lbmFibGVkKSB7CiAgICAgIGNvbnNvbGUudGltZSgnT0JKTG9hZGVyIHBhcnNlOiAnICsgdGhpcy5tb2RlbE5hbWUpOwogICAgfSAvLyBDcmVhdGUgZGVmYXVsdCBtYXRlcmlhbHMgYmVmb3JlaGFuZCwgYnV0IGRvIG5vdCBvdmVycmlkZSBwcmV2aW91c2x5IHNldCBtYXRlcmlhbHMgKGUuZy4gZHVyaW5nIGluaXQpCgoKICAgIHRoaXMubWF0ZXJpYWxIYW5kbGVyLmNyZWF0ZURlZmF1bHRNYXRlcmlhbHMoZmFsc2UpOyAvLyBjb2RlIHdvcmtzIGRpcmVjdGx5IG9uIHRoZSBtYXRlcmlhbCByZWZlcmVuY2VzLCBwYXJzZXIgY2xlYXIgaXRzIG1hdGVyaWFscyBiZWZvcmUgdXBkYXRpbmcKCiAgICB0aGlzLnBhcnNlci5zZXRNYXRlcmlhbHModGhpcy5tYXRlcmlhbEhhbmRsZXIuZ2V0TWF0ZXJpYWxzKCkpOwoKICAgIGlmIChjb250ZW50IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgY29udGVudCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHsKICAgICAgaWYgKHRoaXMucGFyc2VyLmxvZ2dpbmcuZW5hYmxlZCkgY29uc29sZS5pbmZvKCdQYXJzaW5nIGFycmF5QnVmZmVyLi4uJyk7CiAgICAgIHRoaXMucGFyc2VyLmV4ZWN1dGUoY29udGVudCk7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJyB8fCBjb250ZW50IGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgIGlmICh0aGlzLnBhcnNlci5sb2dnaW5nLmVuYWJsZWQpIGNvbnNvbGUuaW5mbygnUGFyc2luZyB0ZXh0Li4uJyk7CiAgICAgIHRoaXMucGFyc2VyLmV4ZWN1dGVMZWdhY3koY29udGVudCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnBhcnNlci5jYWxsYmFja3Mub25FcnJvcignUHJvdmlkZWQgY29udGVudCB3YXMgbmVpdGhlciBvZiB0eXBlIFN0cmluZyBub3IgVWludDhBcnJheSEgQWJvcnRpbmcuLi4nKTsKICAgIH0KCiAgICBpZiAodGhpcy5wYXJzZXIubG9nZ2luZy5lbmFibGVkKSB7CiAgICAgIGNvbnNvbGUudGltZUVuZCgnT0JKTG9hZGVyIHBhcnNlOiAnICsgdGhpcy5tb2RlbE5hbWUpOwogICAgfQoKICAgIHJldHVybiB0aGlzLmJhc2VPYmplY3QzZDsKICB9LAogIF9vbkFzc2V0QXZhaWxhYmxlOiBmdW5jdGlvbiBfb25Bc3NldEF2YWlsYWJsZShwYXlsb2FkKSB7CiAgICBpZiAocGF5bG9hZC5jbWQgIT09ICdhc3NldEF2YWlsYWJsZScpIHJldHVybjsKCiAgICBpZiAocGF5bG9hZC50eXBlID09PSAnbWVzaCcpIHsKICAgICAgdmFyIG1lc2hlcyA9IHRoaXMubWVzaFJlY2VpdmVyLmJ1aWxkTWVzaGVzKHBheWxvYWQpOwogICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IG1lc2hlc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHsKICAgICAgICAgIHZhciBtZXNoID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICB0aGlzLmJhc2VPYmplY3QzZC5hZGQobWVzaCk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7CiAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpOwogICAgICAgICAgfQogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHBheWxvYWQudHlwZSA9PT0gJ21hdGVyaWFsJykgewogICAgICB0aGlzLm1hdGVyaWFsSGFuZGxlci5hZGRQYXlsb2FkTWF0ZXJpYWxzKHBheWxvYWQpOwogICAgfQogIH0KfSk7CmV4cG9ydCB7IE9CSkxvYWRlcjIgfTs="},{"version":3,"sources":["E:/自己的项目/three_test/src/assets/jsm/loaders/OBJLoader2.js"],"names":["FileLoader","Object3D","Loader","OBJLoader2Parser","MeshReceiver","MaterialHandler","OBJLoader2","manager","call","parser","modelName","instanceNo","baseObject3d","materialHandler","meshReceiver","scope","defaultOnAssetAvailable","payload","_onAssetAvailable","setCallbackOnAssetAvailable","OBJLOADER2_VERSION","console","info","prototype","Object","assign","create","constructor","setLogging","enabled","debug","setMaterialPerSmoothingGroup","materialPerSmoothingGroup","setUseOAsMesh","useOAsMesh","setUseIndices","useIndices","setDisregardNormals","disregardNormals","setModelName","setBaseObject3d","undefined","addMaterials","materials","overrideExisting","onAssetAvailable","setCallbackOnProgress","onProgress","setCallbackOnError","onError","setCallbackOnLoad","onLoad","setCallbackOnMeshAlter","onMeshAlter","_setCallbacks","callbacks","setCallbackOnLoadMaterials","onLoadMaterials","load","url","onFileLoadProgress","Function","errorMessage","event","currentTarget","statusText","responseURL","urlFull","URL","window","location","href","filename","urlParts","split","length","urlPartsPath","slice","join","path","numericalValueRef","numericalValue","lengthComputable","loaded","total","output","toFixed","fileLoaderOnLoad","content","parse","fileLoader","setPath","resourcePath","setResponseType","logging","time","createDefaultMaterials","setMaterials","getMaterials","ArrayBuffer","Uint8Array","execute","String","executeLegacy","timeEnd","cmd","type","meshes","buildMeshes","mesh","add","addPayloadMaterials"],"mappings":"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","sourcesContent":["/**\n * @author Kai Salmen / https://kaisalmen.de\n * Development repository: https://github.com/kaisalmen/WWOBJLoader\n */\n\nimport {\n    FileLoader,\n    Object3D,\n    Loader\n} from \"../../js/three.module.js\";\n\nimport { OBJLoader2Parser } from \"./obj2/worker/parallel/OBJLoader2Parser.js\";\nimport { MeshReceiver } from \"./obj2/shared/MeshReceiver.js\";\nimport { MaterialHandler } from \"./obj2/shared/MaterialHandler.js\";\n\n/**\n * Creates a new OBJLoader2. Use it to load OBJ data from files or to parse OBJ data from arraybuffer or text.\n *\n * @param {LoadingManager} [manager] The loadingManager for the loader to use. Default is {@link LoadingManager}\n * @constructor\n */\nconst OBJLoader2 = function (manager) {\n\n    Loader.call(this, manager);\n\n    this.parser = new OBJLoader2Parser();\n\n    this.modelName = '';\n    this.instanceNo = 0;\n    this.baseObject3d = new Object3D();\n\n    this.materialHandler = new MaterialHandler();\n    this.meshReceiver = new MeshReceiver(this.materialHandler);\n\n    // as OBJLoader2 is no longer derived from OBJLoader2Parser, we need to override the default onAssetAvailable callback\n    let scope = this;\n    let defaultOnAssetAvailable = function (payload) {\n\n        scope._onAssetAvailable(payload);\n\n    };\n    this.parser.setCallbackOnAssetAvailable(defaultOnAssetAvailable);\n\n};\n\nOBJLoader2.OBJLOADER2_VERSION = '3.1.1';\nconsole.info('Using OBJLoader2 version: ' + OBJLoader2.OBJLOADER2_VERSION);\n\n\nOBJLoader2.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: OBJLoader2,\n\n\t/**\n\t * See {@link OBJLoader2Parser.setLogging}\n\t * @return {OBJLoader2}\n\t */\n    setLogging: function (enabled, debug) {\n\n        this.parser.setLogging(enabled, debug);\n        return this;\n\n    },\n\n\t/**\n\t * See {@link OBJLoader2Parser.setMaterialPerSmoothingGroup}\n\t * @return {OBJLoader2}\n\t */\n    setMaterialPerSmoothingGroup: function (materialPerSmoothingGroup) {\n\n        this.parser.setMaterialPerSmoothingGroup(materialPerSmoothingGroup);\n        return this;\n\n    },\n\n\t/**\n\t * See {@link OBJLoader2Parser.setUseOAsMesh}\n\t * @return {OBJLoader2}\n\t */\n    setUseOAsMesh: function (useOAsMesh) {\n\n        this.parser.setUseOAsMesh(useOAsMesh);\n        return this;\n\n    },\n\n\t/**\n\t * See {@link OBJLoader2Parser.setUseIndices}\n\t * @return {OBJLoader2}\n\t */\n    setUseIndices: function (useIndices) {\n\n        this.parser.setUseIndices(useIndices);\n        return this;\n\n    },\n\n\t/**\n\t * See {@link OBJLoader2Parser.setDisregardNormals}\n\t * @return {OBJLoader2}\n\t */\n    setDisregardNormals: function (disregardNormals) {\n\n        this.parser.setDisregardNormals(disregardNormals);\n        return this;\n\n    },\n\n\t/**\n\t * Set the name of the model.\n\t *\n\t * @param {string} modelName\n\t * @return {OBJLoader2}\n\t */\n    setModelName: function (modelName) {\n\n        this.modelName = modelName ? modelName : this.modelName;\n        return this;\n\n    },\n\n\t/**\n\t * Set the node where the loaded objects will be attached directly.\n\t *\n\t * @param {Object3D} baseObject3d Object already attached to scenegraph where new meshes will be attached to\n\t * @return {OBJLoader2}\n\t */\n    setBaseObject3d: function (baseObject3d) {\n\n        this.baseObject3d = (baseObject3d === undefined || baseObject3d === null) ? this.baseObject3d : baseObject3d;\n        return this;\n\n    },\n\n\t/**\n\t * Add materials as associated array.\n\t *\n\t * @param {Object} materials Object with named {@link Material}\n\t * @param overrideExisting boolean Override existing material\n\t * @return {OBJLoader2}\n\t */\n    addMaterials: function (materials, overrideExisting) {\n\n        this.materialHandler.addMaterials(materials, overrideExisting);\n        return this;\n\n    },\n\n\t/**\n\t * See {@link OBJLoader2Parser.setCallbackOnAssetAvailable}\n\t * @return {OBJLoader2}\n\t */\n    setCallbackOnAssetAvailable: function (onAssetAvailable) {\n\n        this.parser.setCallbackOnAssetAvailable(onAssetAvailable);\n        return this;\n\n    },\n\n\t/**\n\t * See {@link OBJLoader2Parser.setCallbackOnProgress}\n\t * @return {OBJLoader2}\n\t */\n    setCallbackOnProgress: function (onProgress) {\n\n        this.parser.setCallbackOnProgress(onProgress);\n        return this;\n\n    },\n\n\t/**\n\t * See {@link OBJLoader2Parser.setCallbackOnError}\n\t * @return {OBJLoader2}\n\t */\n    setCallbackOnError: function (onError) {\n\n        this.parser.setCallbackOnError(onError);\n        return this;\n\n    },\n\n\t/**\n\t * See {@link OBJLoader2Parser.setCallbackOnLoad}\n\t * @return {OBJLoader2}\n\t */\n    setCallbackOnLoad: function (onLoad) {\n\n        this.parser.setCallbackOnLoad(onLoad);\n        return this;\n\n    },\n\n\t/**\n\t * Register a function that is called once a single mesh is available and it could be altered by the supplied function.\n\t *\n\t * @param {Function} [onMeshAlter]\n\t * @return {OBJLoader2}\n\t */\n    setCallbackOnMeshAlter: function (onMeshAlter) {\n\n        this.meshReceiver._setCallbacks(this.parser.callbacks.onProgress, onMeshAlter);\n        return this;\n\n    },\n\n\t/**\n\t * Register a function that is called once all materials have been loaded and they could be altered by the supplied function.\n\t *\n\t * @param {Function} [onLoadMaterials]\n\t * @return {OBJLoader2}\n\t */\n    setCallbackOnLoadMaterials: function (onLoadMaterials) {\n\n        this.materialHandler._setCallbacks(onLoadMaterials);\n        return this;\n\n    },\n\n\t/**\n\t * Use this convenient method to load a file at the given URL. By default the fileLoader uses an ArrayBuffer.\n\t *\n\t * @param {string}  url A string containing the path/URL of the file to be loaded.\n\t * @param {function} onLoad A function to be called after loading is successfully completed. The function receives loaded Object3D as an argument.\n\t * @param {function} [onFileLoadProgress] A function to be called while the loading is in progress. The argument will be the XMLHttpRequest instance, which contains total and Integer bytes.\n\t * @param {function} [onError] A function to be called if an error occurs during loading. The function receives the error as an argument.\n\t * @param {function} [onMeshAlter] Called after every single mesh is made available by the parser\n\t */\n    load: function (url, onLoad, onFileLoadProgress, onError, onMeshAlter) {\n\n        let scope = this;\n        if (onLoad === null || onLoad === undefined || !(onLoad instanceof Function)) {\n\n            let errorMessage = 'onLoad is not a function! Aborting...';\n            scope.parser.callbacks.onError(errorMessage);\n            throw errorMessage;\n\n        } else {\n\n            this.parser.setCallbackOnLoad(onLoad);\n\n        }\n        if (onError === null || onError === undefined || !(onError instanceof Function)) {\n\n            onError = function (event) {\n\n                let errorMessage = event;\n                if (event.currentTarget && event.currentTarget.statusText !== null) {\n\n                    errorMessage = 'Error occurred while downloading!\\nurl: ' + event.currentTarget.responseURL + '\\nstatus: ' + event.currentTarget.statusText;\n\n                }\n                scope.parser.callbacks.onError(errorMessage);\n\n            };\n\n        }\n        if (!url) {\n\n            onError('An invalid url was provided. Unable to continue!');\n\n        }\n        let urlFull = new URL(url, window.location.href).href;\n        let filename = urlFull;\n        let urlParts = urlFull.split('/');\n        if (urlParts.length > 2) {\n\n            filename = urlParts[urlParts.length - 1];\n            let urlPartsPath = urlParts.slice(0, urlParts.length - 1).join('/') + '/';\n            if (urlPartsPath !== undefined && urlPartsPath !== null) this.path = urlPartsPath;\n\n        }\n        if (onFileLoadProgress === null || onFileLoadProgress === undefined || !(onFileLoadProgress instanceof Function)) {\n\n            let numericalValueRef = 0;\n            let numericalValue = 0;\n            onFileLoadProgress = function (event) {\n\n                if (!event.lengthComputable) return;\n\n                numericalValue = event.loaded / event.total;\n                if (numericalValue > numericalValueRef) {\n\n                    numericalValueRef = numericalValue;\n                    let output = 'Download of \"' + url + '\": ' + (numericalValue * 100).toFixed(2) + '%';\n                    scope.parser.callbacks.onProgress('progressLoad', output, numericalValue);\n\n                }\n\n            };\n\n        }\n\n        this.setCallbackOnMeshAlter(onMeshAlter);\n        let fileLoaderOnLoad = function (content) {\n\n            scope.parser.callbacks.onLoad(scope.parse(content), \"OBJLoader2#load: Parsing completed\");\n\n        };\n        let fileLoader = new FileLoader(this.manager);\n        fileLoader.setPath(this.path || this.resourcePath);\n        fileLoader.setResponseType('arraybuffer');\n        fileLoader.load(filename, fileLoaderOnLoad, onFileLoadProgress, onError);\n\n    },\n\n\t/**\n\t * Parses OBJ data synchronously from arraybuffer or string and returns the {@link Object3D}.\n\t *\n\t * @param {arraybuffer|string} content OBJ data as Uint8Array or String\n\t * @return {Object3D}\n\t */\n    parse: function (content) {\n\n        // fast-fail in case of illegal data\n        if (content === null || content === undefined) {\n\n            throw 'Provided content is not a valid ArrayBuffer or String. Unable to continue parsing';\n\n        }\n        if (this.parser.logging.enabled) {\n\n            console.time('OBJLoader parse: ' + this.modelName);\n\n        }\n\n        // Create default materials beforehand, but do not override previously set materials (e.g. during init)\n        this.materialHandler.createDefaultMaterials(false);\n\n        // code works directly on the material references, parser clear its materials before updating\n        this.parser.setMaterials(this.materialHandler.getMaterials());\n\n        if (content instanceof ArrayBuffer || content instanceof Uint8Array) {\n\n            if (this.parser.logging.enabled) console.info('Parsing arrayBuffer...');\n            this.parser.execute(content);\n\n        } else if (typeof (content) === 'string' || content instanceof String) {\n\n            if (this.parser.logging.enabled) console.info('Parsing text...');\n            this.parser.executeLegacy(content);\n\n        } else {\n\n            this.parser.callbacks.onError('Provided content was neither of type String nor Uint8Array! Aborting...');\n\n        }\n        if (this.parser.logging.enabled) {\n\n            console.timeEnd('OBJLoader parse: ' + this.modelName);\n\n        }\n        return this.baseObject3d;\n\n    },\n\n    _onAssetAvailable: function (payload) {\n\n        if (payload.cmd !== 'assetAvailable') return;\n\n        if (payload.type === 'mesh') {\n\n            let meshes = this.meshReceiver.buildMeshes(payload);\n            for (let mesh of meshes) {\n\n                this.baseObject3d.add(mesh);\n\n            }\n\n        } else if (payload.type === 'material') {\n\n            this.materialHandler.addPayloadMaterials(payload);\n\n        }\n\n    }\n\n});\n\nexport { OBJLoader2 };\n"]}]}